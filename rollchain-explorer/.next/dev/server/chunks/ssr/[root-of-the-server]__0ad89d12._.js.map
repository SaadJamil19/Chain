{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/asim/Chain/rollchain-explorer/pages/staking.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useRollchainClient } from '../hooks/useRollchainClient';\n\nexport default function StakingPage() {\n  const { wallet, DISPLAY_DENOM, connectWallet, prepareDelegateTx, delegationDraft } = useRollchainClient();\n  const [validatorAddress, setValidatorAddress] = useState('');\n  const [delegateAmount, setDelegateAmount] = useState('');\n  const [status, setStatus] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleConnect = async () => {\n    setError(null);\n    setStatus(null);\n    try {\n      await connectWallet();\n      setStatus('Wallet connected');\n    } catch (err: any) {\n      setError(err?.message ?? 'Wallet connect failed');\n    }\n  };\n\n  const handleDelegate = async () => {\n    setError(null);\n    setStatus(null);\n    try {\n      const amount = Number(delegateAmount);\n      if (!validatorAddress || Number.isNaN(amount) || amount <= 0) {\n        throw new Error('Enter validator address and a positive amount');\n      }\n      const draft = await prepareDelegateTx(validatorAddress.trim(), amount);\n      setStatus(`Draft ready (bytes: ${draft.txBytes.length}). Sign & broadcast in Keplr.`);\n    } catch (err: any) {\n      setError(err?.message ?? 'Could not create delegation');\n    }\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-header\">\n        <div className=\"page-header-content\">\n          <h1 className=\"page-title\">Staking</h1>\n          <p className=\"page-subtitle\">Manage delegation drafts with Keplr</p>\n        </div>\n        <div className=\"page-header-actions\">\n          <button className=\"btn-primary\" onClick={handleConnect}>\n            {wallet ? 'Wallet Connected' : 'Connect Keplr'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"card\">\n        <h3>Your Balances</h3>\n        {wallet ? (\n          <div className=\"balance\">\n            <div>\n              <div className=\"small-text\">Available</div>\n              <div className=\"value\">{wallet.balance.toFixed(4)} {DISPLAY_DENOM}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Staked</div>\n              <div className=\"value\">{wallet.staked.toFixed(4)} {DISPLAY_DENOM}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Rewards</div>\n              <div className=\"value\">{wallet.rewards.toFixed(4)} {DISPLAY_DENOM}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Address</div>\n              <div className=\"value mono\" style={{ fontSize: 12 }}>{wallet.address}</div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"helper\">Connect Keplr to load balances.</div>\n        )}\n      </div>\n\n      <div className=\"card\">\n        <h3>Delegate</h3>\n        <div className=\"input-row\">\n          <input\n            placeholder=\"Validator address\"\n            value={validatorAddress}\n            onChange={(e) => setValidatorAddress(e.target.value)}\n          />\n          <input\n            placeholder={`Amount in ${DISPLAY_DENOM}`}\n            value={delegateAmount}\n            onChange={(e) => setDelegateAmount(e.target.value)}\n          />\n          <button className=\"primary-action\" type=\"button\" onClick={handleDelegate}>\n            Prepare Delegate\n          </button>\n        </div>\n        {delegationDraft && (\n          <div className=\"info\" style={{ marginTop: 10 }}>\n            Msg ready (not broadcast). Validator: {delegationDraft.msg.value.validatorAddress}\n          </div>\n        )}\n        {status && <div className=\"info\">{status}</div>}\n        {error && <div className=\"alert\">{error}</div>}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}