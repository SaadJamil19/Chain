{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/asim/Chain/rollchain-explorer/pages/tx/%5Bhash%5D.tsx"],"sourcesContent":["import { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { TxLite, useRollchainClient } from '../../hooks/useRollchainClient';\n\nconst formatTime = (iso?: string) => (iso ? new Date(iso).toLocaleString() : '—');\n\nexport default function TxDetailPage() {\n  const router = useRouter();\n  const { hash } = router.query;\n  const displayHash = Array.isArray(hash) ? hash[0] : hash;\n  const { getTxByHash } = useRollchainClient();\n  const [tx, setTx] = useState<TxLite | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  useEffect(() => {\n    if (!displayHash) return;\n    const load = async () => {\n      try {\n        const found = await getTxByHash(displayHash);\n        if (!found) throw new Error('Transaction not found');\n        setTx(found);\n      } catch (err: any) {\n        setError(err?.message ?? 'Unable to load transaction');\n      }\n    };\n    load();\n  }, [getTxByHash, displayHash]);\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-header\">\n        <div className=\"page-header-content\">\n          <h1 className=\"page-title\">Transaction {displayHash ?? '—'}</h1>\n          <p className=\"page-subtitle\">Execution trace and delivery info</p>\n        </div>\n        <div className=\"page-header-actions\">\n          <Link href=\"/tx\" className=\"btn-ghost\">\n            ← Transactions\n          </Link>\n        </div>\n      </div>\n      {error && <div className=\"alert\">{error}</div>}\n      {tx && (\n        <div className=\"card\">\n          <h3>Transaction Details</h3>\n          <div className=\"balance\">\n            <div>\n              <div className=\"small-text\">Hash</div>\n              <div className=\"value mono\">{tx.hash}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Height</div>\n              <div className=\"value\">#{tx.height}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Code</div>\n              <div className=\"value\">{tx.code ?? 0}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Gas</div>\n              <div className=\"value\">\n                {tx.gasUsed ? `${tx.gasUsed}/${tx.gasWanted ?? ''}` : '—'}\n              </div>\n            </div>\n            <div>\n              <div className=\"small-text\">Fee</div>\n              <div className=\"value\">{tx.fee ?? '—'}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Time</div>\n              <div className=\"value\">{formatTime(tx.timestamp)}</div>\n            </div>\n          </div>\n          <div className=\"accordion\">\n            <div className=\"accordion-header\" onClick={() => setShowAdvanced((v) => !v)}>\n              <span>Advanced</span>\n              <span className=\"small-text\">{showAdvanced ? 'Hide' : 'Show'}</span>\n            </div>\n            {showAdvanced && (\n              <div className=\"accordion-body mono\">\n                <div style={{ marginTop: 8 }}>Hash: {tx.hash}</div>\n                <div style={{ marginTop: 6 }}>Gas Used/Wanted: {tx.gasUsed}/{tx.gasWanted}</div>\n                <div style={{ marginTop: 6 }}>Code: {tx.code ?? 0}</div>\n                <div style={{ marginTop: 6 }}>Timestamp: {tx.timestamp}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}