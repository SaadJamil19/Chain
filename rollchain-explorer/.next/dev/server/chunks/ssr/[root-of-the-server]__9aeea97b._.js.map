{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/asim/Chain/rollchain-explorer/pages/blocks/%5Bheight%5D.tsx"],"sourcesContent":["import { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { BlockMetaLite, useRollchainClient } from '../../hooks/useRollchainClient';\n\nconst formatTime = (iso?: string) => (iso ? new Date(iso).toLocaleString() : '—');\n\nexport default function BlockDetailPage() {\n  const router = useRouter();\n  const { height } = router.query;\n  const displayHeight = Array.isArray(height) ? height[0] : height;\n  const { getBlockByHeight } = useRollchainClient();\n  const [block, setBlock] = useState<BlockMetaLite | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  useEffect(() => {\n    if (!displayHeight) return;\n    const load = async () => {\n      try {\n        const heightNum = Number(displayHeight);\n        if (Number.isNaN(heightNum)) {\n          throw new Error('Invalid block height');\n        }\n        const data = await getBlockByHeight(heightNum);\n        if (!data) throw new Error('Block not found');\n        setBlock(data);\n      } catch (err: any) {\n        setError(err?.message ?? 'Unable to load block');\n      }\n    };\n    load();\n  }, [getBlockByHeight, displayHeight]);\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-header\">\n        <div className=\"page-header-content\">\n          <h1 className=\"page-title\">Block #{block?.height ?? displayHeight ?? '—'}</h1>\n          <p className=\"page-subtitle\">Full block diagnostics</p>\n        </div>\n        <div className=\"page-header-actions\">\n          <Link href=\"/blocks\" className=\"btn-ghost\">\n            ← Blocks\n          </Link>\n        </div>\n      </div>\n      {error && <div className=\"alert\">{error}</div>}\n      {block && (\n        <div className=\"card\">\n          <h3>Block Information</h3>\n          <div className=\"balance\">\n            <div>\n              <div className=\"small-text\">Height</div>\n              <div className=\"value mono\">{block.height}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Hash</div>\n              <div className=\"value mono\">{block.hash}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Proposer</div>\n              <div className=\"value mono\">{block.proposer}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Tx Count</div>\n              <div className=\"value\">{block.txs}</div>\n            </div>\n            <div>\n              <div className=\"small-text\">Time</div>\n              <div className=\"value\">{formatTime(block.time)}</div>\n            </div>\n          </div>\n          <div className=\"accordion\">\n            <div className=\"accordion-header\" onClick={() => setShowAdvanced((v) => !v)}>\n              <span>Advanced</span>\n              <span className=\"small-text\">{showAdvanced ? 'Hide' : 'Show'}</span>\n            </div>\n            {showAdvanced && (\n              <div className=\"accordion-body mono\">\n                <div style={{ marginTop: 8 }}>Hash: {block.hash}</div>\n                <div style={{ marginTop: 6 }}>Proposer: {block.proposer}</div>\n                <div style={{ marginTop: 6 }}>Tx Count: {block.txs}</div>\n                <div style={{ marginTop: 6 }}>Timestamp: {block.time}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}